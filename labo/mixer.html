<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:,">
  <link rel="stylesheet" type="text/css" href="../css/basic.css">
  <link rel="stylesheet" type="text/css" href="mixer.css">
  <link rel="stylesheet" type="text/css" href="labo-debug.css">
  <script src="../libs/jhtrans.js"></script>
  <!-- <script src="../node_modules/distlink/libs/distlink.js"></script> -->
  <script src="../../distlink/libs/distlink.js"></script>
  <title>Labo - Mixer</title>
</head>

<body>
  <div class="global">
    <div class="contents">
      <div class="prime">

      </div>
    </div>

    <div class="control-panel__origin">
      <div class="control-panel" style="
    background-color: blueviolet;
    position: relative;
    top: 100px;
    left: 200px;
    width: 400px;
    height: 100px;
    ">
        <div class="row">
          <div class="control-panel__title-bar col-12">title bar</div>
        </div>

        <div class="row">
          <div class="col-4">
            font-size
          </div>
          <div class="col-8">
            <input style="width: calc(100% - 120px);" name="fontSizeTxt" type="text">
            <button class="control-panel__mini-button" name="decBtn" type="button" value="Dec">Dec</button>
            <button class="control-panel__mini-button" name="incBtn" type="button" value="Inc">Inc</button>
          </div>
        </div>

      </div>
    </div>

  </div>
  </div>>
  <script src="basicTemplates.js"></script>
  <script src="mixer.js"></script>
  <script>

    (function () {

      // Ref: How TO - Create a Draggable HTML Element
      // https://www.w3schools.com/howto/howto_js_draggable.asp

      const controlPanel = document.querySelector(".control-panel");

      let prevClientX = 0, prevClientY = 0;

      // if present, the header is where you move the DIV from:
      document.querySelector(".control-panel__title-bar").onmousedown = dragStart;

      function dragStart(e) {
        e = e || window.event;
        e.preventDefault();
        // get the mouse cursor position at startup:
        prevClientX = e.clientX;
        prevClientY = e.clientY;
        document.onmouseup = dragEnd;
        // call a function whenever the cursor moves:
        document.onmousemove = dragging;
      }

      function dragging(e) {
        e = e || window.event;
        e.preventDefault();
        // calculate the new cursor position:
        const leftDelta = prevClientX - e.clientX;
        const topDelta = prevClientY - e.clientY;
        prevClientX = e.clientX;
        prevClientY = e.clientY;
        // set the element's new position:
        controlPanel.style.top = (controlPanel.offsetTop - topDelta) + "px";
        controlPanel.style.left = (controlPanel.offsetLeft - leftDelta) + "px";
      }

      function dragEnd() {
        // stop moving when mouse button is released:
        document.onmouseup = null;
        document.onmousemove = null;
      }

    })();

  </script>
</body>

</html>